@use '../themes/variables' as vars;

// Form container styles - Material fields are styled globally now
.nexus-form {
  // Additional form-specific enhancements can be added here
  
  // Success state styling (custom enhancement)
  .mat-mdc-form-field.nexus-field-success {
    .mdc-text-field--outlined .mdc-notched-outline {
      .mdc-notched-outline__leading,
      .mdc-notched-outline__notch,
      .mdc-notched-outline__trailing {
        border-color: vars.$nexus-success !important;
        border-width: 2px !important;
      }
    }
    
    .mdc-floating-label {
      color: vars.$nexus-success !important;
    }
  }
}

// Form field groups
.nexus-form-group {
  margin-bottom: vars.$nexus-spacing-lg;
  
  .nexus-form-label {
    display: block;
    font-size: vars.$nexus-font-size-sm;
    font-weight: vars.$nexus-font-weight-medium;
    color: vars.$nexus-dark-gray;
    margin-bottom: vars.$nexus-spacing-xs;
  }
  
  .nexus-form-help {
    font-size: vars.$nexus-font-size-xs;
    color: vars.$nexus-medium-gray;
    margin-top: vars.$nexus-spacing-xs;
  }
  
  .nexus-form-error {
    font-size: vars.$nexus-font-size-xs;
    color: vars.$nexus-warn;
    margin-top: vars.$nexus-spacing-xs;
    display: flex;
    align-items: center;
    gap: vars.$nexus-spacing-xs;
  }
}

// Form row layout
.nexus-form-row {
  display: grid;
  gap: vars.$nexus-spacing-md;
  grid-template-columns: 1fr;
  
  &.nexus-form-row-2 {
    grid-template-columns: 1fr 1fr;
  }
  
  &.nexus-form-row-3 {
    grid-template-columns: 1fr 1fr 1fr;
  }
  
  &.nexus-form-row-4 {
    grid-template-columns: 1fr 1fr 1fr 1fr;
  }
  
  @media (max-width: vars.$nexus-breakpoint-md) {
    grid-template-columns: 1fr;
  }
}

// Custom input styles for non-Material components
.nexus-input {
  width: 100%;
  padding: vars.$nexus-spacing-md;
  border: vars.$nexus-border-width solid vars.$nexus-border-color;
  border-radius: vars.$nexus-border-radius-md;
  background: vars.$nexus-bg-input;
  font-family: vars.$nexus-font-family;
  font-size: vars.$nexus-font-size-base;
  transition: all vars.$nexus-transition-normal;
  
  &:focus {
    outline: none;
    border-color: vars.$nexus-primary;
    box-shadow: 0 0 0 2px rgba(1, 55, 114, 0.2);
  }
  
  &:disabled {
    background: vars.$nexus-light-gray;
    color: vars.$nexus-medium-gray;
    cursor: not-allowed;
  }
  
  &.nexus-input-error {
    border-color: vars.$nexus-warn;
    
    &:focus {
      box-shadow: 0 0 0 2px rgba(244, 67, 54, 0.2);
    }
  }
  
  &.nexus-input-success {
    border-color: vars.$nexus-success;
    
    &:focus {
      box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
    }
  }
}

// Select styling
.nexus-select {
  @extend .nexus-input;
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  background-position: right vars.$nexus-spacing-md center;
  background-repeat: no-repeat;
  background-size: 16px 12px;
  padding-right: calc(vars.$nexus-spacing-md + 24px);
}

// Checkbox and radio styles
.nexus-checkbox,
.nexus-radio {
  display: flex;
  align-items: center;
  gap: vars.$nexus-spacing-sm;
  margin-bottom: vars.$nexus-spacing-sm;
  cursor: pointer;
  
  input {
    width: 18px;
    height: 18px;
    cursor: pointer;
  }
  
  label {
    cursor: pointer;
    font-size: vars.$nexus-font-size-sm;
    color: vars.$nexus-dark-gray;
  }
}

// File upload styling
.nexus-file-upload {
  border: 2px dashed vars.$nexus-border-color;
  border-radius: vars.$nexus-border-radius-md;
  padding: vars.$nexus-spacing-xl;
  text-align: center;
  transition: all vars.$nexus-transition-normal;
  cursor: pointer;
  
  &:hover {
    border-color: vars.$nexus-primary;
    background: rgba(1, 55, 114, 0.02);
  }
  
  &.nexus-file-dragover {
    border-color: vars.$nexus-primary;
    background: rgba(1, 55, 114, 0.05);
  }
  
  .nexus-file-upload-icon {
    font-size: 48px;
    color: vars.$nexus-medium-gray;
    margin-bottom: vars.$nexus-spacing-md;
  }
  
  .nexus-file-upload-text {
    color: vars.$nexus-dark-gray;
    font-weight: vars.$nexus-font-weight-medium;
  }
  
  .nexus-file-upload-hint {
    color: vars.$nexus-medium-gray;
    font-size: vars.$nexus-font-size-sm;
    margin-top: vars.$nexus-spacing-xs;
  }
}

// Form actions
.nexus-form-actions {
  display: flex;
  justify-content: flex-end;
  gap: vars.$nexus-spacing-md;
  margin-top: vars.$nexus-spacing-xl;
  padding-top: vars.$nexus-spacing-lg;
  border-top: vars.$nexus-border-width solid vars.$nexus-border-color-light;
  
  &.nexus-form-actions-between {
    justify-content: space-between;
  }
  
  &.nexus-form-actions-center {
    justify-content: center;
  }
  
  &.nexus-form-actions-start {
    justify-content: flex-start;
  }
}