<mat-toolbar color="primary">
    <!-- Logo Section -->
    <img src="../../../assets/images/Vector.svg" alt="Logo" style="height: 50px; margin-right: 24px;" />
    
    <!-- Left Spacer -->
    <span style="flex: 1;"></span>
    
    <!-- Centered Search and Create Section -->
    <div style="display: flex; align-items: center; gap: 16px;">
        <!-- Search Section -->
        <mat-form-field appearance="outline" style="width: 500px;">

            <input matInput type="text" [(ngModel)]="searchText" [ngModelOptions]="{standalone: true}"
                placeholder="Type to search for people, companies, properties, or law firms..." aria-label="Search"
                #searchInput />
            <button mat-icon-button matSuffix aria-label="Search" (click)="onSearch(); menuTrigger.openMenu()"
                [matMenuTriggerFor]="searchMenu" #menuTrigger="matMenuTrigger">
                <mat-icon>search</mat-icon>
            </button>
        </mat-form-field>

        <!-- Create Button -->
        <button mat-raised-button color="accent" [matMenuTriggerFor]="listToCreate_menu">
            <mat-icon>add</mat-icon>
            Create New
        </button>
    </div>

    <mat-menu #searchMenu="matMenu">
        <ng-container *ngIf="searchResults.length; else noResults">
            <button mat-menu-item *ngFor="let result of searchResults">{{ result }}</button>
        </ng-container>
        <ng-template #noResults>
            <div style="padding: 16px; text-align: center; color: #666;">No results found</div>
        </ng-template>
    </mat-menu>

    <mat-menu #listToCreate_menu="matMenu">
        <button mat-menu-item *ngFor="let item of listToCreated" (click)="openAddDialog(item)">
            <mat-icon>add</mat-icon>
            <span>{{ item.name }}</span>
        </button>
    </mat-menu>

    <!-- Right Spacer -->
    <span style="flex: 1;"></span>

    <!-- Language Selection -->
    <button mat-button [matMenuTriggerFor]="languages_menu" style="margin-right: 8px; font-size: 16px;">
        <mat-icon style="font-size: 30px; width: 30px; height: 30px;">language</mat-icon>
        <span style="margin-left: 8px; font-size: 16px;">{{ selectedLanguage.name }}</span>
    </button>
    <mat-menu #languages_menu="matMenu">
        <button mat-menu-item *ngFor="let language of languages" (click)="selectedLanguage = language">
            <mat-icon>language</mat-icon>
            <span>{{ language.name }}</span>
        </button>
    </mat-menu>

    <!-- Profile Menu -->
    <button mat-button [matMenuTriggerFor]="profile" aria-label="User profile" style="margin-left: 8px; font-size: 16px;">
        <mat-icon style="font-size: 30px; width: 30px; height: 30px;">account_circle</mat-icon>
        <span style="margin-left: 8px; margin-right: 4px; font-size: 16px;">Ahmed Mostapha</span>
        <mat-icon>keyboard_arrow_down</mat-icon>
    </button>
    <mat-menu #profile="matMenu">
        <button mat-menu-item>
            <mat-icon>person</mat-icon>
            <span>Profile</span>
        </button>
        <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
        </button>
    </mat-menu>
</mat-toolbar>