<div class="modern-dialog-container" [attr.dir]="currentLang === 'ar' ? 'rtl' : 'ltr'">

    <!-- Header -->
    <div class="dialog-header">
        <div class="header-content">
            <div class="header-icon">
                <mat-icon>assignment</mat-icon>
            </div>
            <div class="header-text">
                <h2 class="dialog-title">
                    {{ (label.TRANSACTION.FOLLOW_UP_FILES)}}
                </h2>
                <p class="dialog-subtitle">{{ label.TRANSACTION.FOLLOW_UP_FILES }}</p>
            </div>
        </div>
        <button mat-icon-button class="close-button" (click)="close()">
            <mat-icon>close</mat-icon>
        </button>
    </div>

    <!-- Body -->
    <div class="dialog-body">
        <!-- File Count and List Design -->
        <div class="file-summary-container mb-3">
            <mat-card class="file-summary-card">
                <div class="d-flex align-items-center">
                    <mat-icon color="primary" class="mr-2">attach_file</mat-icon>
                    <span class="file-count-label">
                        {{ label.TRANSACTION.FILE_COUNT || 'File Count' }}:
                    </span>
                    
                    <span  class="file-count-number ml-1">
                        {{ data.files.length || 0 }}
                    </span>
                </div>
            </mat-card>
        </div>

        <!-- File List -->
        <div *ngIf="data.files?.length; else noFiles">
            <div *ngFor="let file of data.files; let index = index" class="file-item d-flex align-items-center mb-2">
                <span class="file-name flex-grow-1">{{ index + 1 }}. {{ file.fileName }}</span>
                <button mat-icon-button color="primary" (click)="previewFile(file)" matTooltip="Preview">
                    <mat-icon>visibility</mat-icon>
                </button>
                <button mat-icon-button color="accent" (click)="downloadFile(file)" matTooltip="Download">
                    <mat-icon>download</mat-icon>
                </button>
            </div>
        </div>
        <ng-template #noFiles>
            <mat-card class="no-files-card">
                <mat-icon color="warn">info</mat-icon>
                <span>{{ label.TRANSACTION.NO_FILES || 'No files available.' }}</span>
            </mat-card>
        </ng-template>
    </div>

    <!-- Footer -->
    <div class="dialog-footer">
        <button mat-stroked-button class="cancel-btn" (click)="close()">
            <mat-icon>close</mat-icon>
            {{ label.COMMON.CANCEL || 'Cancel' }}
        </button>
    </div>
</div>